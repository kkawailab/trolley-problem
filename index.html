<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>トロッコ問題 - 倫理的ジレンマゲーム</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- スタート画面 -->
    <div id="start-screen" class="screen active">
        <div class="container">
            <h1>トロッコ問題</h1>
            <p class="subtitle">倫理的ジレンマゲーム</p>
            <div class="intro-text">
                <p>あなたは車を運転しています。</p>
                <p>避けられない状況下で、あなたは困難な選択を迫られます。</p>
                <p>左右どちらかに曲がることで、異なる結果をもたらします。</p>
                <p><strong>全ての選択には犠牲が伴います。</strong></p>
            </div>
            <button id="start-btn" class="btn btn-primary">ゲームを開始</button>
        </div>
    </div>

    <!-- ゲーム画面 -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <div class="header">
                <div class="scenario-counter">シナリオ <span id="current-scenario">1</span> / 15</div>
                <div class="timer">決定時間: <span id="timer">0.0</span>秒</div>
            </div>

            <div class="scenario-content">
                <h2 id="scenario-title" class="scenario-title"></h2>
                <p id="scenario-description" class="scenario-description"></p>
            </div>

            <div class="road-container">
                <div class="road">
                    <div class="car">🚗</div>
                </div>
            </div>

            <div class="choices">
                <button id="left-choice" class="choice-btn choice-left">
                    <div class="choice-arrow">←</div>
                    <div class="choice-content">
                        <h3 id="left-title"></h3>
                        <p id="left-description"></p>
                    </div>
                </button>

                <button id="right-choice" class="choice-btn choice-right">
                    <div class="choice-content">
                        <h3 id="right-title"></h3>
                        <p id="right-description"></p>
                    </div>
                    <div class="choice-arrow">→</div>
                </button>
            </div>
        </div>
    </div>

    <!-- 結果画面 -->
    <div id="result-screen" class="screen">
        <div class="container">
            <h2>あなたの選択</h2>
            <div class="result-content">
                <div class="choice-result">
                    <h3 id="result-choice"></h3>
                    <p id="result-description"></p>
                    <div class="decision-time">決定時間: <span id="result-time"></span>秒</div>
                </div>

                <div class="ethics-section">
                    <h3>倫理的考察</h3>
                    <p id="ethics-content"></p>
                </div>

                <div class="statistics">
                    <h3>他のプレイヤーの選択</h3>
                    <div class="stats-bar">
                        <div class="stat-item">
                            <span class="stat-label" id="stat-left-label"></span>
                            <div class="stat-bar-container">
                                <div class="stat-bar-fill" id="stat-left-bar"></div>
                            </div>
                            <span class="stat-percent" id="stat-left-percent"></span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label" id="stat-right-label"></span>
                            <div class="stat-bar-container">
                                <div class="stat-bar-fill" id="stat-right-bar"></div>
                            </div>
                            <span class="stat-percent" id="stat-right-percent"></span>
                        </div>
                    </div>
                </div>
            </div>

            <button id="next-btn" class="btn btn-primary">次のシナリオへ</button>
        </div>
    </div>

    <!-- 最終結果画面 -->
    <div id="final-screen" class="screen">
        <div class="container">
            <h2>すべてのシナリオが完了しました</h2>
            <div class="final-content">
                <div class="summary">
                    <h3>あなたの選択の傾向</h3>
                    <p>平均決定時間: <span id="avg-time"></span>秒</p>
                    <div id="tendency-analysis"></div>
                </div>

                <div class="philosophy">
                    <h3>倫理学的考察</h3>
                    <p>トロッコ問題は、功利主義（最大多数の最大幸福）と義務論（行為そのものの正しさ）の対立を示す古典的な思考実験です。</p>
                    <p>あなたの選択に「正解」はありません。重要なのは、困難な状況下でどのように考え、決断するかというプロセスです。</p>
                </div>

                <div class="all-scenarios">
                    <h3>あなたの全選択履歴</h3>
                    <div id="all-choices"></div>
                </div>
            </div>

            <button id="restart-btn" class="btn btn-primary">もう一度プレイ</button>
        </div>
    </div>

    <script src="scenarios.js"></script>
    <script src="app.js"></script>
</body>
</html>
